/* * *******************************************************************************
* This file is part of SpiceCRM FulltextSearch. SpiceCRM FulltextSearch is an enhancement developed
* by aac services k.s.. All rights are (c) 2016 by aac services k.s.
*
* This Version of the SpiceCRM FulltextSearch is licensed software and may only be used in
* alignment with the License Agreement received with this Software.
* This Software is copyrighted and may not be further distributed without
* witten consent of aac services k.s.
*
* You can contact us at info@spicecrm.io
******************************************************************************* */

Ext.define("SpiceCRM.Deployment.LandscapeManager.model.addSystem",{extend:"Ext.data.Model",fields:["url","status"]}),Ext.define("SpiceCRM.Deployment.LandscapeManager.model.deploySystem",{extend:"Ext.data.Model",alias:["widget.deploySystemsModel"],fields:["id","name","url","sys_username","sys_password","master_flag","type",{type:"string",name:"status",defaultValue:"waiting"}]}),Ext.define("SpiceCRM.Deployment.LandscapeManager.model.system",{extend:"Ext.data.Model",alias:["widget.systemsModel"],fields:["id","name","url","sys_username","sys_password","master_flag","type","this_system","status","add_systems","git_repo","git_user","git_pass"]}),Ext.define("SpiceCRM.Deployment.LandscapeManager.model.systemLinks",{extend:"Ext.data.Model",alias:["widget.systemLinksModel"],fields:["id","name","url","sys_username","sys_password","master_flag","type"]}),Ext.define("SpiceCRM.Deployment.LandscapeManager.store.addSystems",{extend:"Ext.data.Store",alias:["store.LandscapeManager.addSystems"],model:"SpiceCRM.Deployment.LandscapeManager.model.addSystem"}),Ext.define("SpiceCRM.Deployment.LandscapeManager.store.deploySystems",{extend:"Ext.data.Store",model:"SpiceCRM.Deployment.LandscapeManager.model.deploySystem",alias:["store.LandscapeManager.deploySystems"],autoLoad:!1}),Ext.define("SpiceCRM.Deployment.LandscapeManager.store.systemLinks",{extend:"Ext.data.Store",alias:["store.LandscapeManager.systemLinks"],model:"SpiceCRM.Deployment.LandscapeManager.model.systemLinks",autoLoad:!1}),Ext.define("SpiceCRM.Deployment.LandscapeManager.store.systems",{extend:"Ext.data.Store",model:"SpiceCRM.Deployment.LandscapeManager.model.system",alias:["store.LandscapeManager.systems"],proxy:{type:"ajax",url:"KREST/kdeployment/systems",method:"GET",reader:{type:"json",rootProperty:"list"}},autoLoad:!0}),Ext.define("SpiceCRM.Deployment.LandscapeManager.controller.Application",{extend:"Ext.app.Controller",doInit:function(){console.log("app controller initialized")},finishInit:function(){},onLaunch:function(){}}),Ext.define("SpiceCRM.Deployment.LandscapeManager.controller.deployController",{extend:"Ext.app.ViewController",alias:"controller.LandscapeManager.deployController",record:void 0,config:{listen:{global:{}},control:{"#":{}}},init:function(){var a=Ext.create("SpiceCRM.Deployment.LandscapeManager.store.deploySystems");Ext.data.StoreManager.lookup("LandscapeManagerSystems").each(function(b){"external"!==b.get("type")&&"1"!==b.get("this_system")&&a.add({id:b.get("id"),name:b.get("name")})}),this.view.down("grid").setStore(a),this.distributeSystems()},distributeSystems:function(){var a=this.view.down("grid").getStore(),b=a.findRecord("status","waiting");null===b?this.view.down("#deployWindowCloseButton").enable():(b.set("status","transfering..."),Ext.Ajax.request({url:"KREST/kdeployment/distribute/"+b.id,method:"POST",timeout:12e4,success:function(a,c){var d=Ext.JSON.decode(a.responseText);200===d.http_code?'"OK"'===d.content?b.set("status","complete"):(b.set("status","error"),console.log(d)):(b.set("status","error: http_code "+d.http_code),console.log(d)),this.distributeSystems()},failure:function(a,c){console.log("server-side failure with status code "+a.status),b.set("status","server-side failure with status code "+a.status),this.view.down("#deployWindowCloseButton").enable()},scope:this}))}}),Ext.define("SpiceCRM.Deployment.LandscapeManager.controller.MainController",{extend:"Ext.app.ViewController",requires:[],saving:!1,alias:"controller.LandscapeManagerMain",loadMask:void 0,config:{listen:{global:{resize:function(){this.view.updateLayout()}}},control:{}}}),Ext.define("SpiceCRM.Deployment.LandscapeManager.controller.systemDetailsFormController",{extend:"Ext.app.ViewController",alias:"controller.LandscapeManager.systemDetailsFormController",record:void 0,saveConfirm:!1,config:{listen:{global:{systemSelected:function(a){a?(this.record=a,this.record.add_systems=Ext.JSON.decode(a.add_systems),this.view.enable(),this.setFromRecord(a)):this.view.disable()},systemDeleted:function(){this.view.disable(),this.setFromRecord(Ext.create("SpiceCRM.Deployment.LandscapeManager.model.system"))}}},control:{"#saveButton":{click:function(){"1"===this.record.get("this_system")?this.saveRecord():this.testConnection()}},"#addUrl":{click:function(a){Ext.Msg.prompt("AddSystem","Please enter URL:",function(b,c){if("ok"==b){a.up("grid").getStore().add({url:c,status:""});var d=[];a.up("grid").getStore().each(function(a){d.push({url:a.get("url"),status:a.get("status")})}),a.up("#systemDetailsForm").getController().record.set("add_systems",Ext.JSON.encode(d))}})}},"#deleteUrl":{click:function(a){var b=a.up("grid").getSelection();0===b.length?Ext.Msg.alert("Error","Please select one record."):Ext.each(b,function(b){a.up("grid").getStore().remove(b)},this);var c=[];a.up("grid").getStore().each(function(a){c.push({url:a.get("url"),status:a.get("status")})}),a.up("#systemDetailsForm").getController().record.set("add_systems",Ext.JSON.encode(c))}}}},toggleButtons:function(a){a?this.view.down("#saveButton").enable():this.view.down("#saveButton").disable()},saveRecord:function(){if("C"!==this.record.get("status")&&!this.saveConfirm&&"1"!==this.record.get("this_system"))return void Ext.Msg.show({title:"Save Changes?",message:"No Connection to the system. Do you like to save anyway?",buttons:Ext.Msg.YESNOCANCEL,icon:Ext.Msg.QUESTION,fn:function(a){"yes"===a?(this.saveConfirm=!0,this.saveRecord()):"no"===a?console.log("No pressed"):console.log("Cancel pressed")},scope:this});if(this.view.isValid()){var a=new Ext.LoadMask({msg:"saving system...",target:this.view.up("app-main")});a.show(),this.toggleButtons(!1);var b=this.view.getForm().getFieldValues();b.status=this.record.get("status");var c=[];this.view.down("grid").getStore().each(function(a){c.push({url:a.get("url"),status:a.get("status")})}),b.add_systems=Ext.JSON.encode(c),Ext.Ajax.request({url:"KREST/module/KDeploymentSystems/"+b.id,method:"POST",jsonData:b,success:function(c,d){this.record.set(b),this.toggleButtons(!0),a.hide()},failure:function(b,c){console.log("server-side failure with status code "+b.status),Ext.Msg.alert("Error","server-side failure with status code "+b.status),this.toggleButtons(!0),a.hide()},scope:this})}else Ext.Msg.alert("required fields","please fill all required fields")},testConnection:function(){var a=new Ext.LoadMask({msg:"testing connection...",target:this.view.up("app-main")});a.show(),this.toggleButtons(!1);var b=this.view.getForm().getFieldValues();this.view.down("grid").getStore().each(function(a){Ext.Ajax.request({url:"KREST/kdeployment/testConnection",method:"POST",jsonData:{user:b.sys_username,password:b.sys_password,url:a.get("url")},success:function(b,c){var d=Ext.JSON.decode(b.responseText);void 0!==d&&200==d.http_code?a.set("status","C"):a.set("status","E")},failure:function(a,b){this.record.set("status","E"),console.log("server-side failure with status code "+a.status)},scope:this},this)},this),Ext.Ajax.request({url:"KREST/kdeployment/testConnection",method:"POST",jsonData:{user:b.sys_username,password:b.sys_password,url:b.url},success:function(b,c){var d=Ext.JSON.decode(b.responseText);void 0!==d&&200==d.http_code?(this.view.down("#connStat").updateColor("green"),this.record.set("status","C")):(this.view.down("#connStat").updateColor("red"),this.record.set("status","E"),Ext.Msg.alert("Error","no connection or wrong connection data")),this.toggleButtons(!0),a.hide(),this.saveRecord()},failure:function(b,c){this.view.down("#connStat").updateColor("red"),this.record.set("status","E"),console.log("server-side failure with status code "+b.status),Ext.Msg.alert("Error","server-side failure with status code "+b.status),this.toggleButtons(!0),a.hide(),this.saveRecord()},scope:this})},setFromRecord:function(a){this.view.down("#name").setValue(a.get("name")),this.view.down("#id").setValue(a.get("id")),this.view.down("#url").setValue(a.get("url")),this.view.down("#sys_username").setValue(a.get("sys_username")),this.view.down("#sys_password").setValue(a.get("sys_password")),this.view.down("#master_flag").setValue(a.get("master_flag")),this.view.down("#type").setValue(a.get("type")),"dev"===a.get("type")?(this.view.down("#git_data_panel").show(),this.view.down("#git_repo").setValue(a.get("git_repo")),this.view.down("#git_user").setValue(a.get("git_user")),this.view.down("#git_pass").setValue(a.get("git_pass"))):(this.view.down("#git_data_panel").hide(),this.view.down("#git_repo").setValue(""),this.view.down("#git_user").setValue(""),this.view.down("#git_pass").setValue("")),this.view.down("#this_system").setValue(a.get("this_system")),this.view.down("#connStat").updateColor(),this.view.down("grid").getStore().removeAll();var b=Ext.JSON.decode(Ext.util.Format.htmlDecode(a.get("add_systems")));Ext.each(b,function(a){this.view.down("grid").getStore().add({url:a.url,status:a.status})},this),"C"===a.get("status")&&this.view.down("#connStat").updateColor("green"),"E"===a.get("status")&&this.view.down("#connStat").updateColor("red"),"1"===a.get("this_system")?(this.view.down("#url").setReadOnly(!0),this.view.down("#sys_username").setReadOnly(!0),this.view.down("#sys_password").setReadOnly(!0),this.view.down("#url").disable(),this.view.down("#sys_username").disable(),this.view.down("#sys_password").disable()):(this.view.down("#url").setReadOnly(!1),this.view.down("#sys_username").setReadOnly(!1),this.view.down("#sys_password").setReadOnly(!1),this.view.down("#url").enable(),this.view.down("#sys_username").enable(),this.view.down("#sys_password").enable())}}),Ext.define("SpiceCRM.Deployment.LandscapeManager.controller.systemLinksController",{extend:"Ext.app.ViewController",alias:"controller.LandscapeManager.systemLinksController",record:void 0,config:{listen:{global:{systemSelected:function(a){if(a){var b=new Ext.LoadMask({msg:"loading linked systems...",target:this.view.getView()});this.toggleButtons(!1),b.show(),this.view.enable(),this.record=a,this.view.getStore().removeAll(),Ext.Ajax.request({url:"KREST/module/KDeploymentSystems/"+a.get("id")+"/related/kdeploymentsystems_link",success:function(a,c){var d=Ext.decode(a.responseText),e=this.view.getStore();for(var f in d)d.hasOwnProperty(f)&&e.add(d[f]);b.hide(),this.toggleButtons(!0)},failure:function(a,c){console.log("server-side failure with status code "+a.status),Ext.Msg.alert("Error","server-side failure with status code "+a.status),b.hide()},scope:this})}else this.toggleButtons(!1)},systemDeleted:function(){this.toggleButtons(!1),this.view.getStore().removeAll()}}},control:{"#addLink":{click:function(){Ext.create("SpiceCRM.Deployment.LandscapeManager.view.systemAddLinkWindow",{systemrecord:this.record}).show()}},"#deleteLink":{click:function(){this.deleteRecord()}}}},toggleButtons:function(a){a?(this.view.down("#addLink").enable(),this.view.down("#deleteLink").enable()):(this.view.down("#addLink").disable(),this.view.down("#deleteLink").disable())},deleteRecord:function(){var a=this.view.getSelection();0===a.length?Ext.Msg.alert("Error","Please select one record."):Ext.each(a,function(a){var b=[a.get("id")];Ext.Ajax.request({url:"KREST/module/KDeploymentSystems/"+this.record.get("id")+"/related/kdeploymentsystems_link?relatedids="+Ext.JSON.encode(b),method:"DELETE",success:function(a,b){},failure:function(a,b){console.log("server-side failure with status code "+a.status),Ext.Msg.alert("Error","server-side failure with status code "+a.status)},scope:this}),this.view.getStore().remove(a)},this)},setFromRecord:function(a){this.view.down("#name").setValue(a.get("name"))}}),Ext.define("SpiceCRM.Deployment.LandscapeManager.controller.systemListController",{extend:"Ext.app.ViewController",alias:"controller.LandscapeManager.systemListController",config:{listen:{global:{}},control:{"#":{select:function(a,b){Ext.GlobalEvents.fireEvent("systemSelected",b)}},"#addButton":{click:function(){this.addRecord()}},"#delButton":{click:function(){this.deleteRecord()}},"#deployButton":{click:function(){Ext.create("SpiceCRM.Deployment.LandscapeManager.view.deployWindow").show()}}}},addRecord:function(){var a=new Ext.LoadMask({msg:"creating new system...",target:this.view.up("app-main")});a.show();var b=SpiceCRM.Deployment.LandscapeManager.Application.kGuid();Ext.Ajax.request({url:"KREST/module/KDeploymentSystems/"+b,method:"POST",jsonData:{name:"new System",id:b},success:function(b,c){var d=this.view.getStore().add(c.jsonData);this.view.setSelection(d),a.hide()},failure:function(b,c){console.log("server-side failure with status code "+b.status),Ext.Msg.alert("Error","server-side failure with status code "+b.status),a.hide()},scope:this})},deleteRecord:function(){var a=this.view.getSelection();0===a.length?Ext.Msg.alert("Error","Please select one record."):(Ext.each(a,function(a){Ext.Ajax.request({url:"KREST/kdeployment/delSystem/"+a.id,method:"DELETE",success:function(a,b){},failure:function(a,b){console.log("server-side failure with status code "+a.status),Ext.Msg.alert("Error","server-side failure with status code "+a.status)},scope:this}),this.view.getStore().remove(a)},this),Ext.GlobalEvents.fireEvent("systemDeleted"))}}),Ext.define("SpiceCRM.Deployment.LandscapeManager.view.deployWindow",{extend:"Ext.window.Window",alias:["widget.LandscapeManager.deployWindow"],height:400,width:400,modal:!0,systemrecord:void 0,closable:!1,controller:"LandscapeManager.deployController",title:"Distributing ...",layout:"fit",items:{xtype:"grid",viewConfig:{markDirty:!1},columns:[{text:"Name",dataIndex:"name"},{text:"Status",dataIndex:"status",flex:1}]},bbar:["->",{xtype:"button",text:"close",disabled:!0,itemId:"deployWindowCloseButton",handler:function(a){a.up("window").close()}}]}),Ext.define("SpiceCRM.Deployment.LandscapeManager.view.main.Main",{extend:"Ext.container.Container",requires:["SpiceCRM.Deployment.LandscapeManager.controller.MainController"],xtype:"app-main",renderTo:"landscapeManager",height:"100%",width:"100%",border:!1,controller:"LandscapeManagerMain",viewModel:{},layout:{type:"border"},style:{"background-color":"transparent"},items:[{xtype:"LandscapeManager.systemList",region:"west",flex:1,margin:"0 0 0 0",split:!0},{xtype:"LandscapeManager.systemDetails",region:"center",flex:2}],listeners:{}}),Ext.define("SpiceCRM.Deployment.LandscapeManager.view.systemDetails",{extend:"Ext.panel.Panel",alias:["widget.LandscapeManager.systemDetails"],height:"100%",defaults:{border:!1},layout:{type:"vbox"},items:[{xtype:"LandscapeManager.systemDetailsForm",flex:2,width:"100%"},{xtype:"LandscapeManager.systemLinks",flex:1,width:"100%"}]}),Ext.define("SpiceCRM.Deployment.LandscapeManager.view.systemDetailsForm",{extend:"Ext.form.Panel",alias:["widget.LandscapeManager.systemDetailsForm"],flex:3,controller:"LandscapeManager.systemDetailsFormController",title:"System Details",disabled:!0,layout:"container",scrollable:"vertical",itemId:"systemDetailsForm",items:[{title:"System",xtype:"fieldset",collapsible:!1,defaultType:"textfield",defaults:{anchor:"100%",border:!1},margin:10,layout:"hbox",items:[{xtype:"panel",layout:"vbox",flex:1,defaults:{width:"100%",margin:"0 10 5 10"},items:[{xtype:"textfield",fieldLabel:"name",itemId:"name",name:"name",allowBlank:!1},{xtype:"combo",itemId:"type",name:"type",fieldLabel:"Type",store:Ext.create("Ext.data.Store",{fields:["val","name"],data:[{val:"repo",name:"software repo"},{val:"ext",name:"external"},{val:"dev",name:"development"},{val:"test",name:"test"},{val:"qc",name:"quality"},{val:"prod",name:"production"}]}),queryMode:"local",displayField:"name",valueField:"val",forceSelection:!0,allowBlank:!1,listeners:{change:function(a,b,c){b!==c&&("dev"===b?a.up("#systemDetailsForm").down("#git_data_panel").show():(a.up("#systemDetailsForm").down("#git_repo").setValue(""),a.up("#systemDetailsForm").down("#git_user").setValue(""),a.up("#systemDetailsForm").down("#git_pass").setValue(""),a.up("#systemDetailsForm").down("#git_data_panel").hide()))}}}]},{xtype:"panel",layout:"vbox",flex:1,defaults:{width:"100%",margin:"0 10 5 10"},items:[{xtype:"checkbox",fieldLabel:"masterflag",itemId:"master_flag",name:"master_flag",inputValue:"1",readOnly:!0,disabled:!0},{xtype:"checkbox",fieldLabel:"this System",itemId:"this_system",name:"this_system",inputValue:"1",readOnly:!0,disabled:!0}]},{xtype:"hiddenfield",name:"id",itemId:"id"}]},{title:"Connection",xtype:"fieldset",collapsible:!1,defaultType:"textfield",defaults:{anchor:"100%",border:!1},margin:10,layout:"hbox",items:[{xtype:"panel",layout:"vbox",flex:1,defaults:{width:"100%",margin:"0 10 5 10"},items:[{xtype:"textfield",fieldLabel:"url",itemId:"url",name:"url",allowBlank:!1},{xtype:"displayfield",fieldLabel:"status",itemId:"connStat",updateColor:function(a){a?(colorString='<div style="border:1px solid #ddd;float:left;margin-left:5px;width:16px;height:16px;background:'+a+'"></div>',this.setRawValue(colorString)):(colorString='<div style="border:1px solid #ddd;float:left;margin-left:5px;width:16px;height:16px;background:#ddd"></div>',this.setRawValue(colorString))},listeners:{afterrender:function(){this.updateColor()}}}]},{xtype:"panel",layout:"vbox",flex:1,defaults:{width:"100%",margin:"0 10 5 10"},items:[{xtype:"textfield",fieldLabel:"sys username",itemId:"sys_username",name:"sys_username",allowBlank:!1},{xtype:"textfield",fieldLabel:"sys password",itemId:"sys_password",name:"sys_password",allowBlank:!1,inputType:"password"}]}]},{title:"Git",xtype:"fieldset",itemId:"git_data_panel",collapsible:!0,collapsed:!0,hidden:!0,defaultType:"textfield",defaults:{anchor:"100%",border:!1},margin:10,layout:"hbox",items:[{xtype:"panel",layout:"vbox",flex:1,defaults:{width:"100%",margin:"0 10 5 10"},items:[{xtype:"textfield",fieldLabel:"Git Repo",itemId:"git_repo",name:"git_repo"}]},{xtype:"panel",layout:"vbox",flex:1,defaults:{width:"100%",margin:"0 10 5 10"},items:[{xtype:"textfield",fieldLabel:"Git username",itemId:"git_user",name:"git_user"},{xtype:"textfield",fieldLabel:"Git password",itemId:"git_pass",name:"git_pass",inputType:"password"}]}]},{title:"Additional Systems",xtype:"fieldset",collapsible:!0,collapsed:!0,margin:10,layout:"fit",items:[{xtype:"grid",store:Ext.create("SpiceCRM.Deployment.LandscapeManager.store.addSystems"),itemId:"addSystemsGrid",columns:[{text:"url",dataIndex:"url",flex:1},{text:"status",dataIndex:"status",renderer:function(a){var b="grey";switch(a){case"C":b="green";break;case"E":b="red";break;default:b="gray"}return'<div style="border:1px solid #ddd;float:left;margin-left:5px;width:16px;height:16px;background:'+b+'"></div>'}}],viewConfig:{markDirty:!1},tbar:[{xtype:"button",text:"add",icon:"themes/SpiceTheme/images/add.png",itemId:"addUrl",disabled:!1},{xtype:"button",text:"delete",icon:"themes/SpiceTheme/images/delete.png",itemId:"deleteUrl",disabled:!1}]}]}],tbar:[{xtype:"button",text:"save",icon:"themes/SpiceTheme/images/save.png",itemId:"saveButton"}]}),Ext.define("SpiceCRM.Deployment.LandscapeManager.view.systemAddLinkWindow",{extend:"Ext.window.Window",alias:["widget.LandscapeManager.systemAddLinkWindow"],height:400,width:400,modal:!0,systemrecord:void 0,controller:"LandscapeManager.systemLinksController",title:"select System to link",layout:"fit",items:{xtype:"grid",store:{type:"LandscapeManager.systemLinks"},columns:[{text:"Name",dataIndex:"name",flex:1},{text:"Type",dataIndex:"type"}]},bbar:["->",{xtype:"button",text:"ok",icon:"themes/SpiceTheme/images/ok.png",handler:function(a){var b=a.up("window").down("grid").getSelection(),c=Ext.data.StoreManager.lookup("LandscapeManagerSystemLinks");Ext.each(b,function(b){Ext.Ajax.request({url:"KREST/kdeployment/addSystemLink/"+a.up("window").systemrecord.get("id")+"/"+b.get("id"),method:"POST",success:function(a,d){c.add(b)},failure:function(a,b){console.log("server-side failure with status code "+a.status)},scope:this})}),a.up("window").close()}},{xtype:"button",text:"cancel",icon:"themes/SpiceTheme/images/cancel.png",handler:function(a){a.up("window").close()}}],listeners:{show:function(){var a=this.down("grid").getStore(),b=Ext.data.StoreManager.lookup("LandscapeManagerSystems"),c=Ext.data.StoreManager.lookup("LandscapeManagerSystemLinks");b.each(function(b){b.get("id")!==this.systemrecord.get("id")&&null===c.findRecord("id",b.get("id"))&&a.add({id:b.get("id"),name:b.get("name"),type:b.get("type")})},this)}}}),Ext.define("SpiceCRM.Deployment.LandscapeManager.view.systemLinks",{extend:"Ext.grid.Panel",alias:["widget.LandscapeManager.systemLinks"],controller:"LandscapeManager.systemLinksController",store:Ext.create("SpiceCRM.Deployment.LandscapeManager.store.systemLinks",{storeId:"LandscapeManagerSystemLinks"}),title:"Imports from",defaults:{border:!1},columns:[{text:"Name",dataIndex:"name",flex:1},{text:"Type",dataIndex:"type",renderer:function(a){switch(a){case"repo":return"software repo";case"ext":return"external";case"dev":return"development";case"test":return"test";case"qc":return"quality";case"prod":return"production";default:return a}}}],tbar:[{xtype:"button",text:"add",icon:"themes/SpiceTheme/images/add.png",itemId:"addLink",disabled:!0},{xtype:"button",text:"delete",itemId:"deleteLink",icon:"themes/SpiceTheme/images/delete.png",disabled:!0}]}),Ext.define("SpiceCRM.Deployment.LandscapeManager.view.systemList",{extend:"Ext.grid.Panel",alias:["widget.LandscapeManager.systemList"],controller:"LandscapeManager.systemListController",store:Ext.create("SpiceCRM.Deployment.LandscapeManager.store.systems",{storeId:"LandscapeManagerSystems"}),flex:1,height:"100%",title:"Systems",columns:[{text:"Name",dataIndex:"name",flex:1}],viewConfig:{stripeRows:!0,markDirty:!1},tbar:[{xtype:"button",text:"distribute",icon:"modules/KDeploymentSystems/images/distribute.png",itemId:"deployButton"},"->",{xtype:"button",text:"add",icon:"themes/SpiceTheme/images/add.png",itemId:"addButton"},{xtype:"button",text:"del",icon:"themes/SpiceTheme/images/delete.png",itemId:"delButton"}]}),Ext.define("SpiceCRM.Deployment.LandscapeManager.Application",{namespaces:["SpiceCRM.Deployment.LandscapeManager"],controllers:["Application"],extend:"Ext.app.Application",name:"SpiceCRM.Deployment.LandscapeManager",launch:function(){Ext.create("SpiceCRM.Deployment.LandscapeManager.view.main.Main"),SpiceCRM.Deployment.LandscapeManager.Application=this},languageGetText:function(a){return SUGAR.language.get("KDeploymentSystems",a)},S4:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},kGuid:function(){return"k"+this.S4()+this.S4()+this.S4()+this.S4()+this.S4()+this.S4()+this.S4()}}),Ext.application({extend:"SpiceCRM.Deployment.LandscapeManager.Application"});